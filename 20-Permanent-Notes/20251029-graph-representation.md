---
id: 202510296
created: 2025-10-29
updated: 2025-10-29
tags: [permanent, computer-science, data-structure, graph-theory, algorithm]
type: permanent-note
status: draft
confidence: high
source_type: synthesis
---

# グラフの表現: 隣接行列と隣接リスト

## Core Idea
グラフをコンピュータプログラムで扱うためには、その構造をデータ構造に落とし込む必要がある。最も代表的な表現方法が**隣接行列 (Adjacency Matrix)** と **隣接リスト (Adjacency List)** であり、それぞれにメモリ使用量と計算量のトレードオフが存在する。

## Context
アルゴリズムを実装する際、グラフの特性（密か疎か）や、どのような操作（辺の存在確認、近傍ノードの列挙など）を頻繁に行うかに応じて、適切な表現方法を選択することがパフォーマンスの鍵となる。

## Key Points

### 1. 隣接行列 (Adjacency Matrix)
- **構造**: 頂点数を $V$ とすると、$V \times V$ の二次元配列で表現する。行列の要素 `matrix[i][j]` は、頂点 `i` から頂点 `j` への辺が存在すれば `1`（重み付きなら重みの値）、存在しなければ `0` を格納する。
- **特徴**:
    - **メモリ**: $O(V^2)$ のメモリを常に必要とする。
    - **辺の存在確認**: 2頂点間に辺があるかの確認は $O(1)$ で高速。
    - **近傍の列挙**: ある頂点に隣接する全ての頂点を列挙するには $O(V)$ の時間が必要。
- **適したケース**: **密グラフ (Dense Graph)**、つまり辺の数が $V^2$ に近いグラフ。

### 2. 隣接リスト (Adjacency List)
- **構造**: 各頂点ごとに、その頂点に隣接する頂点のリスト（配列や連結リストなど）を保持する。全体としては、リストの配列（またはマップ）として表現される。
- **特徴**:
    - **メモリ**: 辺の数を $E$ とすると、$O(V+E)$ のメモリで済む。
    - **辺の存在確認**: 2頂点間に辺があるか確認するには、一方の頂点のリストを走査する必要があり、最悪 $O(V)$ の時間がかかる。
    - **近傍の列挙**: ある頂点に隣接する全ての頂点を効率的に列挙できる（次数に応じた時間）。
- **適したケース**: **疎グラフ (Sparse Graph)**、つまり辺の数が $V^2$ よりずっと少ないグラフ。現実世界の多くのグラフはこちらに該当する。

### 比較まとめ
| 特性 | 隣接行列 | 隣接リスト |
| :--- | :--- | :--- |
| **空間計算量** | $O(V^2)$ | $O(V+E)$ |
| **辺の追加** | $O(1)$ | $O(1)$ |
| **辺の存在確認** | $O(1)$ | $O(\text{deg}(u))$ |
| **頂点の近傍列挙** | $O(V)$ | $O(\text{deg}(u))$ |
| **得意なグラフ** | 密グラフ | 疎グラフ |
*V: 頂点数, E: 辺の数, deg(u): 頂点uの次数*

## Related Concepts
- [[20251029-graph-theory-fundamentals|グラフ理論の基礎]] - これらのデータ構造が表現する対象。
- [[探索アルゴリズム]] - 幅優先探索(BFS)や深さ優先探索(DFS)は、これらのデータ構造上で動作する。
- [[計算量 (Big O notation)]] - 2つの方法の効率を比較するための指標。
