
[Javaビルドツールの特徴と選び方のまとめ](https://code-rebuild.com/tool/build-tool/)
[5 Most Popular Java Build Tools Developers Must Know  - Techvify](https://techvify.com/java-build-tools/)
[What Is Java Spring Boot? \| IBM](https://www.ibm.com/think/topics/java-spring-boot)

Java ビルドツールの選定方法についての文献集

ビルドツールの役割
1. **ソースコードのコンパイル:** `.java`ファイルを`.class` ファイルに変換する
2. **依存関係の管理:** プロジェクトに必要な外部ライブラリ（jarファイルなど）を自動的にダウンロードし、クラスパスに追加する
3. **テストの実行:** JUnitなどのテストフレームワークと連携し、自動でテストを実行する
4. **静的解析:** コードの品質をチェックし、潜在的なバグや改善点を検出する
5. **リソースファイルの処理:** 設定ファイルや画像ファイルなどを適切に配置する
6. **パッケージング:** コンパイルされたクラスファイルやリソースファイルを実行可能な形式（JAR、WAR、EARなど）にまとめる
7. **ドキュメント生成:** Javadocなどのツールを使ってAPIドキュメントを生成する
8. **デプロイ:** 完成したアプリケーションをサーバー環境に配置する


# 主要なビルドツール群

## Ant

Apache Ant（アント）は、Javaビルドツールの先駆者的存在です。XML形式のビルドファイル（`build.xml`）にタスクを記述していくスタイルで、非常に柔軟性が高いのが特徴です。

**Antは自由度が高く、既存のシステムや特殊なビルドプロセスにも対応しやすいビルドツールですが、今ではレガシーなツールです。**

## Maven
![[Pasted image 20251029105245.png]]
- めちゃくちゃルールを決める代わりに標準化が容易

Apache Maven（メイヴン）は、「規約大国」とも呼ばれるビルドツールです。プロジェクトのディレクトリ構造やビルドのライフサイクル（コンパイル、テスト、パッケージングなど）にあらかじめ標準的な規約が定められています。

**Mavenは規約に従うことでビルド設定の記述量を大幅に削減し、依存関係管理を強力にサポートするツールです。**

Mavenは、設定より規約という思想に基づいているからです。開発者はPOM（Project Object Model）ファイルと呼ばれるXMLファイル（`pom.xml`）にプロジェクトの基本的な情報や依存ライブラリを記述するだけで、多くの定型的なビルド処理をMavenが自動的に実行します。

特に、中央リポジトリからの依存ライブラリの自動ダウンロードと管理機能は非常に強力で、多くのJavaプロジェクトで標準的に利用されています。

学習コストはAntより少し高いかもしれませんが、一度規約を理解すれば、他のMavenプロジェクトにも応用が利きやすいというメリットがあります。



## Gradle
![[Pasted image 20251029105350.png]]
- 柔軟性が高い代わりに学習が大変・・・
- DSLで記述が簡単になる
	- Kotlinなどの学習が必要になる
- 

Gradle（グレードル）は、Antの柔軟性とMavenの規約・依存関係管理の利点を兼ね備え、さらにGroovyやKotlinといったDSL（Domain Specific Language）による記述の簡潔さと高いパフォーマンスを実現したビルドツールです。

**Gradleは大規模で複雑なプロジェクトや、より高速なビルドを求める場合に非常に強力な選択肢となります。**

GroovyやKotlinといったプログラミング言語でビルドスクリプト（`build.gradle`または`build.gradle.kts`）を記述できるため、非常に柔軟かつ表現力豊かなビルドロジックを構築できる点にあります。

また、強力なキャッシュ機構やインクリメンタルビルド（変更があった部分だけを再ビルドする機能）により、Mavenと比較してもビルド時間が大幅に短縮されることが多いです。Androidアプリの標準ビルドツールとしても採用されています。

柔軟性が高い反面、自由度が高すぎて学習コストが高いと感じる場合や、ビルドスクリプトが複雑化しやすいという側面も持ち合わせています。


- **SBT (Simple Build Tool):** 主にScalaプロジェクトで利用されるビルドツールですが、Javaプロジェクトにも適用可能です。Scalaの強力な型システムや関数型プログラミングの概念を取り入れたビルド定義が特徴です。
- **Bazel:** Googleが開発したビルドおよびテストツールです。大規模な多言語プロジェクト（Java、C++、Go、Pythonなど）を高速かつ正確にビルドすることに長けています。非常に厳密な依存関係管理と再現性の高いビルドが特徴で、巨大なコードベースを持つ企業で採用されることがあります。

よく比較されるのは、MavenとGradle


|            | Maven | Gradle |
| ---------- | ----- | ------ |
| ビルドパフォーマンス | 低い    | 高い     |
| 学習コスト      | 軽い    | 重い     |


### Mavenのインストールと基本コマンド

Mavenを利用するには、まず公式サイトからMavenをダウンロードし、PCにインストールする必要があります。

1. **ダウンロード:** Apache Mavenの公式サイトから最新版のバイナリ（`apache-maven-X.X.X-bin.zip`など）をダウンロードします。
2. **展開:** ダウンロードしたzipファイルを任意のディレクトリに展開します（例: `C:\Program Files\apache-maven-3.9.7` や `/usr/local/apache-maven-3.9.7`）。
3. **環境変数設定:**
    - `M2_HOME` (または `MAVEN_HOME`): Mavenを展開したディレクトリのパスを設定します。
    - `PATH`: `%M2_HOME%\bin` (Windows) または `$M2_HOME/bin` (Linux/macOS) を追加します。
4. **確認:** コマンドプロンプトやターミナルで `mvn -version` を実行し、バージョン情報が表示されればインストール成功です。

#### 基本的なMavenコマンド

コマンド

- `mvn compile`: ソースコードをコンパイル
- `mvn test`: テストを実行
- `mvn package`: プロジェクトをJARファイルやWARファイルにパッケージング
- `mvn install`: パッケージングした成果物をローカルリポジトリにインストール
- `mvn clean`: `target` ディレクトリ（ビルド成果物が出力される場所）を削除
- `mvn dependency:tree`: プロジェクトの依存関係ツリーを表示


### Gradleの導入とプロジェクト構成

Gradleは、Gradle Wrapperを利用するのが一般的です。Gradle Wrapperは、特定のGradleバージョンをプロジェクト内に含める仕組みで、開発者間でGradleのバージョンを統一でき、別途インストールする手間も省けます。

1. **既存プロジェクトへの導入または新規作成:**
    - 既存プロジェクトにWrapperを追加する場合: `gradle wrapper` コマンドを実行します（Gradleがローカルにインストールされている場合）。
    - 新規プロジェクトの場合: IDE（IntelliJ IDEAなど）でGradleプロジェクトとして作成すると、通常Wrapperが自動で生成されます。
2. **Gradle Wrapperの利用:** プロジェクトルートに生成された `gradlew` (Linux/macOS用) または `gradlew.bat` (Windows用) を使ってGradleタスクを実行します。これにより、指定されたバージョンのGradleが自動的にダウンロードされ利用されます。

#### **Gradleのプロジェクト構成**

- `build.gradle` (または `build.gradle.kts`): ビルドスクリプトファイル。プロジェクトの依存関係、プラグイン、タスクなどを定義します。Groovy DSL (`.gradle`) または Kotlin DSL (`.gradle.kts`)で記述します。
- `settings.gradle` (または `settings.gradle.kts`): マルチプロジェクトビルドの場合に、含まれるサブプロジェクトなどを定義します。
- `gradle/wrapper/gradle-wrapper.properties`: Gradle Wrapperが使用するGradleのバージョンなどを指定します。

#### 基本的なGradleタスクの実行方法 (Gradle Wrapper経由)

ポイント

- `./gradlew build` (Linux/macOS) または `gradlew.bat build` (Windows): プロジェクトをビルド（コンパイル、テスト、アセンブルなどを含む）。
- `./gradlew tasks`: 利用可能なタスクの一覧を表示
- `./gradlew clean`: `build`ディレクトリ（ビルド成果物が出力される場所）を削除


